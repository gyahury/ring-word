import"./style-B_l4csH6.js";document.addEventListener("DOMContentLoaded",()=>{const m=new URLSearchParams(window.location.search),w=m.get("nickname"),h=m.get("page"),f=document.getElementById("word"),v=document.getElementById("curWordCount"),E=document.getElementById("allWordCount"),p=document.getElementById("prevButton"),B=document.getElementById("flipButton"),y=document.getElementById("nextButton"),L=document.getElementById("dictButton"),r=document.getElementById("canvas"),s=r.getContext("2d");let o=[],e=0,d=!0,c=!1,a=0,l=0;u(),fetch("https://gyahury.github.io/japanese-word/"+w+"/words.json").then(t=>t.json()).then(t=>{o=t.words.filter(n=>n.type===h),E.textContent=o.length,o.length>0&&i(e)}).catch(t=>alert("error occurred : "+t)),window.addEventListener("resize",u),p.addEventListener("click",()=>{u(),e>0?(e--,d=!0,i(e)):e==0&&(e=o.length-1,d=!0,i(e))}),y.addEventListener("click",()=>{u(),e<o.length-1?(e++,d=!0,i(e)):e==o.length-1&&(e=0,d=!0,i(e))}),B.addEventListener("click",()=>{d=!d,i(e)}),L.addEventListener("click",()=>{const n=`https://ja.dict.naver.com/?m=mobile#/search?query=${o[e].word}`;window.open(n,"_blank")}),r.addEventListener("mousedown",k),r.addEventListener("mouseup",I),r.addEventListener("mousemove",C),r.addEventListener("mouseout",x);function i(t){const n=o[t];d?f.innerHTML=`${n.word}`:f.innerHTML=`${n.furigana}<div style='font-size: clamp(0.7rem, 6vw, 2rem);'>${n.meaning}</div>`,v.textContent=t+1}function W(t,n){s.beginPath(),s.moveTo(a,l),s.lineTo(t,n),s.lineWidth=2,s.strokeStyle="gray",s.stroke()}function k(t){a=t.offsetX,l=t.offsetY,c=!0}function C(t){if(!c)return;let n=t.offsetX,g=t.offsetY;W(n,g),a=n,l=g}function I(){c=!1}function x(){c=!1}function u(){r.width=window.innerWidth,r.height=window.innerHeight}});
